<!-- FILEPATH: /c:/Users/jorge/OneDrive/Escritorio/Marketplace/Funcionalidades/users/users/templates/profile.html -->


<!DOCTYPE html>
<html>
  <head>
    <title>Perfil de Usuario</title>
  </head>
  <body>
    <h1>Perfil de Usuario</h1>
    <h2>Información Básica</h2>
    <p>Nombre: {{ user.name }}</p>
    <p>Ubicación: {{ user.location }}</p>
    <p>Contacto: {{ user.contact }}</p>
    
    {% if user.type == 'agricultor' or user.type == 'ganadero' %}
      <h2>Detalles del Producto</h2>
      <p>Productos: {{ user.productos }}</p>
      <p>Historia: {{ user.historia }}</p>
      <p>Certificaciones: {{ user.certificaciones }}</p>
    {% endif %}
    
    {% if user.type == 'consumidor' %}
      <h2>Historial de Compras</h2>
      <p>Compras: {{ user.compras }}</p>
      <h2>Preferencias</h2>
      <p>Preferencias: {{ user.preferencias }}</p>
      <h2>Lista de Deseos</h2>
    
    <!-- BEGIN: User Registration -->
    {% if not user.is_registered %}
      <h2>Registro de Usuario</h2>
      <form action="/register" method="post">
        <label for="email">Correo Electrónico:</label>
        <input type="email" id="email" name="email" required>
        <br>
        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required>
        <br>
        <label for="type">Tipo de Usuario:</label>
        <select id="type" name="type" required>
          <option value="agricultor">Agricultor</option>
          <option value="ganadero">Ganadero</option>
          <option value="consumidor">Consumidor</option>
        </select>
        <br>
        <input type="submit" value="Registrarse">
      </form>
    {% endif %}
    <!-- END: User Registration -->
    
    <!-- BEGIN: User Profile Editing -->
    {% if user.is_registered %}
      <h2>Editar Perfil</h2>
      <form action="/profile/edit" method="post">
        <label for="name">Nombre:</label>
        <input type="text" id="name" name="name" value="{{ user.name }}" required>
        <br>
        <label for="location">Ubicación:</label>
        <input type="text" id="location" name="location" value="{{ user.location }}" required>
        <br>
        <label for="contact">Contacto:</label>
        <input type="text" id="contact" name="contact" value="{{ user.contact }}" required>
        <br>
        
        {% if user.type == 'agricultor' or user.type == 'ganadero' %}
          <h3>Detalles del Producto</h3>
          <label for="productos">Productos:</label>
          <input type="text" id="productos" name="productos" value="{{ user.productos }}">
          <br>
          <label for="historia">Historia:</label>
          <textarea id="historia" name="historia">{{ user.historia }}</textarea>
          <br>
          <label for="certificaciones">Certificaciones:</label>
          <input type="text" id="certificaciones" name="certificaciones" value="{{ user.certificaciones }}">
          <br>
        {% endif %}
        
        {% if user.type == 'consumidor' %}
          <h3>Preferencias</h3>
          <label for="preferencias">Preferencias:</label>
          <input type="text" id="preferencias" name="preferencias" value="{{ user.preferencias }}">
          <br>
          <h3>Lista de Deseos</h3>
          <label for="lista_deseos">Lista de Deseos:</label>
          <input type="text" id="lista_deseos" name="lista_deseos" value="{{ user.lista_deseos }}">
          <br>
        {% endif %}
        
        <input type="submit" value="Guardar Cambios">
      </form>
    {% endif %}
    <!-- END: User Profile Editing -->
      <p>Lista de Deseos: {{ user.lista_deseos }}</p>
    {% endif %}
  </body>
</html>
